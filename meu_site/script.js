const usuarios={admin:"admin123",usuario1:"senha1",usuario2:"senha2"};let produtos=JSON.parse(localStorage.getItem("produtos"))||[{nome:"Arroz",preco:20.5,quantidade:100},{nome:"Feij\xE3o",preco:8.9,quantidade:50},{nome:"Macarr\xE3o",preco:4.5,quantidade:200}],saidas=JSON.parse(localStorage.getItem("saidas"))||[];function salvarDados(){localStorage.setItem("produtos",JSON.stringify(produtos)),localStorage.setItem("saidas",JSON.stringify(saidas))}function validarLogin(){const a=document.getElementById("usuario").value,b=document.getElementById("senha").value,c=document.getElementById("mensagem");usuarios[a]&&usuarios[a]===b?(c.textContent="Login bem-sucedido!",setTimeout(()=>{window.location.href="estoque.html"},1e3)):c.textContent="Usu\xE1rio ou senha incorretos."}function atualizarListaProdutos(){const a=document.getElementById("listaProdutos");a.innerHTML="",produtos.forEach(b=>{a.innerHTML+=`<li>${b.nome} - ${b.quantidade} unidades</li>`})}function adicionarProduto(){const a=document.getElementById("nomeProduto").value,b=parseInt(document.getElementById("quantidadeProduto").value);a&&0<b?(produtos.push({nome:a,preco:0,quantidade:b}),atualizarListaProdutos(),salvarDados()):alert("Preencha o nome do produto e uma quantidade v\xE1lida.")}function removerProduto(){const a=document.getElementById("nomeProduto").value,b=parseInt(document.getElementById("quantidadeProduto").value),c=produtos.find(b=>b.nome===a);c&&0<b&&c.quantidade>=b?(c.quantidade-=b,atualizarListaProdutos(),salvarDados()):alert("Produto n\xE3o encontrado ou quantidade inv\xE1lida.")}function registrarSaida(){const a=document.getElementById("nomeProduto").value,b=parseInt(document.getElementById("quantidadeProduto").value),c=produtos.find(b=>b.nome===a);if(c&&c.quantidade>=b){c.quantidade-=b;const d=new Date().toLocaleString();saidas.push({nome:a,quantidade:b,data:d}),atualizarListaProdutos(),salvarDados()}else alert("Quantidade inv\xE1lida ou produto n\xE3o encontrado.")}function abrirConsultaSaidas(){const a=window.open("","Sa\xEDdas","width=400,height=500");a.document.write("<h2>Hist\xF3rico de Sa\xEDdas</h2><ul>"),saidas.forEach(b=>{a.document.write(`<li>${b.data}: ${b.nome} - ${b.quantidade} unidades</li>`)}),a.document.write("</ul>")}function abrirEstoque(){const a=window.open("","Estoque","width=400,height=500");a.document.write("<h2>Produtos no Estoque</h2><ul>"),produtos.forEach(b=>{a.document.write(`<li>${b.nome} - ${b.quantidade} unidades</li>`)}),a.document.write("</ul>")}window.onload=atualizarListaProdutos;